#!/bin/sh


[ -f     .scc ]  && .     .scc
[ -f   ~/.scc ]  && .   ~/.scc
[ -f /etc/scc ]  && . /etc/scc

prg=/tmp/$USER-scc
src=$prg.cc

echo '
	#include <simple.h>
	int main(int argc, const char** argv) {
		string __attribute__((unused))	s, line;
		int	 __attribute__((unused))	i=0,j=0, n=0;
		char __attribute__((unused))	c;
' 		>  $src

#echo -e ' A;\n B; A\n A\n B; A\n {}A\n B({A})\n'|tee /dev/tty|   sed 's/\({[^}]*}\)\{0\}\(\(\((.*)\)\|[^;]\)\+$\)/cout << ( \2 );/'
#echo "$@" | sed 's/\(.*[;}]\)*\([^;}]\+$\)/\1 cout << ( \2 );/' >> $src
echo "$1" | sed 's/\(.*[;}]\)*\([^;}]\+$\)/\1 cout << ( \2 );/' >> $src


echo '
	; cout << endl;
} ' 		>>  $src
#cat $src

LIBS+='-lboost_regex'
shift
g++  -Wall -std=gnu++0x  -ggdb3 -O0 -I/home/lvv/p/scc/ -I/usr/local/include/  $prg.cc -o $prg $LIBS $LIBS && $prg "$@"
# vim:set ts=4 sw=4 syntax=sh:   
